<aside class="w-auto bg-white dark:bg-slate-950 dark:border-r-slate-900 dark:border-r">
  <% active_page = controller_name %>
  <% sidebar_items = [
    { name: 'Dashboard', icon: 'layout-dashboard', path: dashboard_path, page: 'dashboard' },
    { name: 'Tasks', icon: 'square-check-big', path: tasks_path, page: 'tasks' },
    { name: 'Habits', icon: 'radar', path: habits_path, page: 'habits' },
    { name: 'Groups', icon: 'users', path: '#', page: 'groups' },
    { name: 'Statistics', icon: 'chart-line', path: '#', page: 'statistics' }
  ] %>

  <nav class="w-15 lg:w-50 border-r border-gray-200 dark:border-gray-700 h-full" id="sidebar" data-controller="sidebar">
    <div class="flex px-3 lg:px-5 py-3 mb-5">
      <a href="/" class="flex-shrink-0 flex items-center text-2xl font-bold text-purple-600 hidden lg:inline full-logo">FocusHub</a>
      <a href="/" class="flex-shrink-0 flex items-center text-2xl font-bold text-purple-600 lg:hidden inline mobile-logo">FH</a>
    </div>
    <ul>
      <% sidebar_items.each do |item| %>
        <li class="px-4 py-2 hover:bg-slate-200 dark:hover:bg-slate-700 gap-2 cursor-pointer <%= active_page == item[:page] ? 'border-l-4 border-purple-500 bg-gray-100 dark:bg-gray-800' : 'border-l-4 border-transparent' %>">
          <%= link_to item[:path], class: 'block text-gray-700 flex items-center gap-2 dark:text-gray-400' do %>
            <%= lucide_icon(item[:icon], class: "#{'text-purple-500' if active_page == item[:page]}") %>
            <span class="sidebar-text hidden lg:inline"><%= item[:name] %></span>
          <% end %>
        </li>
      <% end %>
    </ul>
  </nav>
</aside>
