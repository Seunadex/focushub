<% if tasks.any? %>
  <% tasks.each do |task| %>
    <div class="py-3 dark:bg-gray-800/40 bg-gray-100 rounded-lg px-4 mb-3">
      <div class="flex items-center space-x-3">
        <p class="text-gray-700 dark:text-gray-100 text-sm font-semibold"><%= task.title %></p>
        <div class="flex items-center space-x-2">
            <% priority_color = case task.priority
              when 'high' then 'bg-red-500 text-white'
              when 'medium' then 'bg-yellow-500 text-white'
              when 'low' then 'bg-slate-200 text-gray-600 dark:bg-slate-700 dark:text-gray-300'
              else 'bg-gray-100 text-gray-600'
            end %>
            <span class="text-xs font-normal px-2 py-0.5 rounded-3xl flex justify-between items-center <%= priority_color %>">
              <%= task.priority %>
            </span>
        </div>
      </div>
      <p class="text-gray-500 dark:text-gray-400 text-xs mt-1"><%= task.description %></p>
      <p class="text-xs text-gray-500 dark:text-gray-400 mt-2"><%= task.due_date.strftime("%B %d, %Y") %></p>
    </div>
  <% end %>
<% else %>
  <p class="text-gray-500 dark:text-gray-400 text-sm">No upcoming tasks.</p>
<% end %>