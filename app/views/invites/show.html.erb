<div class="min-h-[80vh] flex items-center justify-center bg-gray-50 dark:bg-slate-950">
  <div class="w-full max-w-md rounded-xl bg-white p-8 shadow dark:bg-slate-900">
    <h2 class="text-2xl font-semibold text-gray-900 dark:text-gray-100">Join <%= @group.name %></h2>

    <% if @invitation %>
      <div class="mt-3 text-sm text-gray-600 dark:text-gray-300">
        <p>You’ve been invited to join this group.</p>
      </div>

      <div class="mt-4 rounded-lg border border-gray-200 dark:border-slate-800 bg-gray-50/70 dark:bg-slate-800/40 p-4">
        <ul class="space-y-2 text-sm">
          <li class="flex items-center justify-between">
            <span class="text-gray-600 dark:text-gray-300">Invited by</span>
            <span class="font-medium text-gray-900 dark:text-gray-100"><%= @invitation.inviter&.email %></span>
          </li>
          <li class="flex items-center justify-between">
            <span class="text-gray-600 dark:text-gray-300">For</span>
            <span class="font-medium text-gray-900 dark:text-gray-100"><%= @invitation.invitee&.email || @invitation.invitee_email %></span>
          </li>
          <% if @invitation.expires_at.present? %>
            <li class="flex items-center justify-between">
              <span class="text-gray-600 dark:text-gray-300">Expires</span>
              <span class="font-medium text-gray-900 dark:text-gray-100">
                in <%= distance_of_time_in_words(Time.current, @invitation.expires_at) %>
              </span>
            </li>
          <% end %>
          <li class="flex items-center justify-between">
            <span class="text-gray-600 dark:text-gray-300">Status</span>
            <span class="font-medium capitalize text-gray-900 dark:text-gray-100"><%= @invitation.status %></span>
          </li>
        </ul>
      </div>
    <% end %>

    <% if user_signed_in? && @group.member?(current_user) %>
      <div class="mt-6 flex items-center justify-between">
        <p class="text-sm text-gray-600 dark:text-gray-300">You’re already a member of this group.</p>
        <%= link_to "Go to group", group_path(@group), class: "text-sm font-medium text-purple-700 hover:text-purple-800" %>
      </div>
    <% elsif user_signed_in? %>
      <div class="mt-6">
        <%= button_to "Accept Invitation",
                      accept_invitation_path(params[:token]),
                      method: :post,
                      data: { turbo: false },
                      class: "inline-flex items-center cursor-pointer justify-center rounded-md bg-purple-600 px-4 py-2 text-white hover:bg-purple-700 focus:outline-none focus:ring-2 focus:ring-purple-500 focus:ring-offset-2 shadow-sm transition" %>
      </div>
    <% else %>
      <p class="mt-6 text-gray-600 dark:text-gray-300">Please sign in to accept your invitation.</p>
      <div class="mt-4">
        <%= link_to "Sign in",
            new_user_session_path(redirect_to: request.fullpath),
            class: "inline-flex items-center justify-center rounded-md border border-purple-600 px-4 py-2 text-purple-700 hover:bg-purple-50 focus:outline-none focus:ring-2 focus:ring-purple-500 focus:ring-offset-2 transition" %>
      </div>
    <% end %>
  </div>
</div>
